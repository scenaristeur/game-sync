(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],l=0,d=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},o={app:0},a=[];function s(e){return u.p+"js/"+({about:"about",event:"event",sync:"sync",test:"test"}[e]||e)+"."+{about:"4c81f324","chunk-2d207f75":"1049527c","chunk-e592f350":"363c5d3d",event:"2b63ad8d",sync:"d06aed52",test:"12804106","chunk-2d2306d1":"034ee01e","chunk-7b5b442e":"2dde085b","chunk-2d221a55":"9bb01cde","chunk-52556e62":"b3eee397","chunk-9f50c5d2":"662238cf","chunk-2d0afa76":"2d09e35e","chunk-2d0d2bbc":"13a4c786","chunk-2d0e5731":"fa1c6836","chunk-2d21a387":"143d6e9e","chunk-5685aaa4":"edd09a32","chunk-59d28115":"59ce7ade","chunk-60ebc6d0":"cde50190","chunk-2d0d0685":"8479f513","chunk-2d0dd9f2":"d8f798c5","chunk-2d215ca0":"a4f6ab04","chunk-2d216f1a":"9192c3e9","chunk-2d2244a2":"cc37802d","chunk-180affe4":"fff99e9e","chunk-2d0cc5ba":"b462c8a3","chunk-2d22d037":"1fa320fc","chunk-dc510af6":"7b0c0281","chunk-4060d866":"d14f4bb7","chunk-2d216f2d":"25197106","chunk-998ad4d6":"3596468d","chunk-66475232":"f47a69fa","chunk-2d0e2723":"5da4efbb","chunk-2d217c19":"64453a92"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-7b5b442e":1,"chunk-52556e62":1,"chunk-9f50c5d2":1,"chunk-5685aaa4":1,"chunk-59d28115":1,"chunk-180affe4":1,"chunk-dc510af6":1,"chunk-4060d866":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",event:"event",sync:"sync",test:"test"}[e]||e)+"."+{about:"31d6cfe0","chunk-2d207f75":"31d6cfe0","chunk-e592f350":"31d6cfe0",event:"31d6cfe0",sync:"31d6cfe0",test:"31d6cfe0","chunk-2d2306d1":"31d6cfe0","chunk-7b5b442e":"4ac5b8f9","chunk-2d221a55":"31d6cfe0","chunk-52556e62":"f455a842","chunk-9f50c5d2":"679e1610","chunk-2d0afa76":"31d6cfe0","chunk-2d0d2bbc":"31d6cfe0","chunk-2d0e5731":"31d6cfe0","chunk-2d21a387":"31d6cfe0","chunk-5685aaa4":"c19df262","chunk-59d28115":"6b1c7da0","chunk-60ebc6d0":"31d6cfe0","chunk-2d0d0685":"31d6cfe0","chunk-2d0dd9f2":"31d6cfe0","chunk-2d215ca0":"31d6cfe0","chunk-2d216f1a":"31d6cfe0","chunk-2d2244a2":"31d6cfe0","chunk-180affe4":"81679fc7","chunk-2d0cc5ba":"31d6cfe0","chunk-2d22d037":"31d6cfe0","chunk-dc510af6":"2fa51c44","chunk-4060d866":"5dccdab4","chunk-2d216f2d":"31d6cfe0","chunk-998ad4d6":"31d6cfe0","chunk-66475232":"31d6cfe0","chunk-2d0e2723":"31d6cfe0","chunk-2d217c19":"31d6cfe0"}[e]+".css",o=u.p+r,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],l=i.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete c[e],p.parentNode.removeChild(p),n(a)},p.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){c[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",d.name="ChunkLoadError",d.type=r,d.request=c,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/game-sync/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var p=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view"),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",[n("i",[e._v("0.0.10 - timeline")])])}],a=(n("d3b7"),n("3ca3"),n("ddb0"),{name:"App",components:{Navbar:function(){return n.e("chunk-2d207f75").then(n.bind(null,"a37d"))}}}),s=a,u=(n("034f"),n("2877")),i=Object(u["a"])(s,c,o,!1,null,null,null),l=i.exports,d=n("9483");Object(d["a"])("".concat("/game-sync/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),alert("GameSync has been updated, please close the app & re-open")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=n("8c4f");r["default"].use(p["a"]);var b=[{path:"/",name:"Sync",component:function(){return n.e("sync").then(n.bind(null,"23d9"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/test",name:"Test",component:function(){return n.e("test").then(n.bind(null,"78c1"))}},{path:"/event",name:"Event",component:function(){return n.e("event").then(n.bind(null,"d3dc"))}}],f=new p["a"]({mode:"history",base:"/game-sync/",routes:b}),h=f,g=n("2f62"),v=function(){return{session:null,pod:{}}},m={},O={setPod:function(e,t){e.pod=t},setSession:function(e,t){e.session=t}},x={namespaced:!0,state:v,actions:m,mutations:O},j=function(){return{url:"",gameContainer:null,game:null,networkUrl:null}},k={explore:function(e,t){e.commit("setUrl",t),console.log(t);var n={url:t,subscribe:!0};r["default"].prototype.$explore(n)}},w={setUrl:function(e,t){console.log("url",t),e.url=t},setNetworkUrl:function(e,t){e.networkUrl=t},setGameContainer:function(e,t){e.gameContainer=t},setGame:function(e,t){e.game=t}},y={namespaced:!0,state:j,actions:k,mutations:w},R=(n("498a"),n("4de4"),function(){return{spinner:0,graphs:[],inputObject:null,commands:{"/i":"import","/h":"help","/n":"newGraph","/e":"export","/c":"capture"},commandInput:"",history:[],action:null,editorContent:{},dataToSave:{},socketMessageUrl:"gr",newGraph:{},currentItem:{},edgeFilter:{},hiddenEdges:[]}}),A={},$={},S={setAction:function(e,t){console.log(t),e.action=t},setWebsocketMesssage:function(e,t){console.log("message in store",t),e.socketMessageUrl=t},setNewGraph:function(e,t){e.newGraph=t},setCurrentItem:function(e,t){console.log(t),e.currentItem=t},setInputObject:function(e,t){console.log(t),"commande"==t.type?(e.action={action:e.commands[t.value]},console.log(e.action),void 0==e.action.action&&alert("Warning : Unknown action "+t.value+" , type /h for help")):e.inputObject=t},setCommandInput:function(e,t){console.log(t),t=t.trim(),e.commandInput=t.indexOf(" ")>=0?'"'+t+'" ':t+" "},addToHistory:function(e,t){var n=e.history.filter((function(e){return e.id!==t.id}));n.push(t),e.history=n},setEditorContent:function(e,t){console.log(t),e.editorContent=t},setNetwork:function(e,t){console.log(t),e.network=t},setDataToSave:function(e,t){console.log(t),e.dataToSave=t},spinnerAdd:function(e){console.log("spinnerAdd",new Date),e.spinner++},spinnerRemove:function(e){console.log("spinnerRemove",new Date),e.spinner--},spinnerInit:function(e){e.spinner=0},setGraphs:function(e,t){e.graphs=t},setEdgeFilter:function(e,t){e.edgeFilter=t},setHiddenEdges:function(e,t){e.hiddenEdges=t}},E={namespaced:!0,state:R,getters:A,actions:$,mutations:S},N=(n("159b"),function(){return{calendars:{private:{name:"private",url:"",active:!0,color:"#17a2b8",permissions:"private"},public:{name:"public",url:"",active:!0,color:"#20c997",permissions:"public"},agora:{name:"agora",url:"https://agora.solidcommunity.net/public/events/",active:!0,color:"#fd7e14",permissions:"public"}},events:[]}}),C={addEvent:function(e,t){e.commit("addEvent",t.event),console.log(t);var n=e.rootState.solid.pod;t.publishTo.forEach((function(e){var c={};c.url=null==n||"public"!=e&&"private"!=e?e.url:n.storage+e+"/",c.url+="events/",c.name=t.event.customData.title||t.event.key,c.event=t.event,console.log(c);var o=r["default"].prototype.$createEvent(c);console.log("Event created",o)}))},updateCals:function(e,t){e.commit("setCals",t),console.log("update cals on pod : todo",t)}},D={addEvent:function(e,t){e.events.push(t),console.log(e.events)},setCals:function(e,t){e.cals=t,console.log(e.cals)}},I={namespaced:!0,state:N,actions:C,mutations:D};r["default"].use(g["a"]);var T=new g["a"].Store({state:{},mutations:{},actions:{},modules:{solid:x,gamesync:y,ipgs:E,events:I}}),P=n("1da1"),_=n("668b"),U=(n("b0c0"),n("2ca0"),n("ac1f"),n("1276"),n("8a79"),n("fb6a"),n("5319"),n("99af"),n("d81d"),n("96cf"),n("93ef")),B=n("d11f"),J=n("dbc7"),G=n("8522"),W={base:"https://scenaristeur.github.io/ipgs#",id:"https://scenaristeur.github.io/ipgs#id",label:"https://scenaristeur.github.io/ipgs#label",Node:"https://scenaristeur.github.io/ipgs#Node",Edge:"https://scenaristeur.github.io/ipgs#Edge",shape:"https://scenaristeur.github.io/ipgs#shape",backgroundColor:"https://scenaristeur.github.io/ipgs#backgroundColor",borderColor:"https://scenaristeur.github.io/ipgs#borderColor",cid:"https://scenaristeur.github.io/ipgs#cid",x:"https://scenaristeur.github.io/ipgs#x",y:"https://scenaristeur.github.io/ipgs#y",z:"https://scenaristeur.github.io/ipgs#z",properties:"https://scenaristeur.github.io/ipgs#properties",updates:"https://scenaristeur.github.io/ipgs#updates",from:"https://scenaristeur.github.io/ipgs#from",to:"https://scenaristeur.github.io/ipgs#to"},F={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.store,r=[];e.prototype.$eventFormToCal=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_f",t),n={},console.log("e_c",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventCalToAs=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_c",t),n={},console.log("e_a",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventAsToCal=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_a",t),n={},console.log("e_c",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventCalToForm=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_c",t),n={},console.log("e_f",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$createEvent=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a,s,u,i,l,d,p,b,f,h,g,v,m,O,x,j,k,w,y,R,A,$,S,E,N,C,D,I,T,P,J,W,F,L,z;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),r=new Date,c=encodeURI(t.name)||Date.now(),o=t.url,a=o+c+".ttl",s="Open this file with https://scenaristeur.github.io/game-sync?url="+a,u=Object(U["e"])(),i=Object(U["f"])({name:c}),i=Object(U["c"])(i,B["d"].type,B["a"].Event),i=Object(U["b"])(i,B["a"].name,t.name),i=Object(U["a"])(i,B["a"].startTime,t.event.customData.start),i=Object(U["a"])(i,B["a"].endTime,t.event.customData.end),i=Object(U["b"])(i,B["e"].comment,s),null!=n.state.solid.pod&&(i=Object(U["c"])(i,B["a"].actor,n.state.solid.pod.webId)),i=Object(U["b"])(i,B["a"].published,r.toISOString()),l=[],d=[],p=[],b=!1,f=!1,e.prev=20,g=Object(_["a"])(t.event.customData.actors);case 22:return e.next=24,g.next();case 24:if(!(b=!(v=e.sent).done)){e.next=35;break}m=v.value,O=Object(U["f"])({name:"thingActor"+Date.now()}),O=Object(U["b"])(O,B["a"].name,m.text),void 0!=m.url&&(O=Object(U["c"])(O,B["a"].Link,m.url)),m.text.startsWith("http")&&(O=Object(U["c"])(O,B["a"].Link,m.text)),u=Object(U["B"])(u,O),l.push(O);case 32:b=!1,e.next=22;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e["catch"](20),f=!0,h=e.t0;case 41:if(e.prev=41,e.prev=42,!b||null==g.return){e.next=46;break}return e.next=46,g.return();case 46:if(e.prev=46,!f){e.next=49;break}throw h;case 49:return e.finish(46);case 50:return e.finish(41);case 51:x=!1,j=!1,e.prev=53,w=Object(_["a"])(t.event.customData.objects);case 55:return e.next=57,w.next();case 57:if(!(x=!(y=e.sent).done)){e.next=68;break}R=y.value,A=Object(U["f"])({name:"thingObject"+Date.now()}),A=Object(U["b"])(A,B["a"].name,R.text),void 0!=R.url&&(A=Object(U["c"])(A,B["a"].Link,R.url)),R.text.startsWith("http")&&(A=Object(U["c"])(A,B["a"].Link,R.text)),u=Object(U["B"])(u,A),d.push(A);case 65:x=!1,e.next=55;break;case 68:e.next=74;break;case 70:e.prev=70,e.t1=e["catch"](53),j=!0,k=e.t1;case 74:if(e.prev=74,e.prev=75,!x||null==w.return){e.next=79;break}return e.next=79,w.return();case 79:if(e.prev=79,!j){e.next=82;break}throw k;case 82:return e.finish(79);case 83:return e.finish(74);case 84:$=!1,S=!1,e.prev=86,N=Object(_["a"])(t.event.customData.contexts);case 88:return e.next=90,N.next();case 90:if(!($=!(C=e.sent).done)){e.next=101;break}D=C.value,I=Object(U["f"])({name:"thingContext"+Date.now()}),I=Object(U["b"])(I,B["a"].name,D.text),void 0!=D.url&&(I=Object(U["c"])(I,B["a"].Link,D.url)),D.text.startsWith("http")&&(I=Object(U["c"])(I,B["a"].Link,D.text)),u=Object(U["B"])(u,I),p.push(I);case 98:$=!1,e.next=88;break;case 101:e.next=107;break;case 103:e.prev=103,e.t2=e["catch"](86),S=!0,E=e.t2;case 107:if(e.prev=107,e.prev=108,!$||null==N.return){e.next=112;break}return e.next=112,N.return();case 112:if(e.prev=112,!S){e.next=115;break}throw E;case 115:return e.finish(112);case 116:return e.finish(107);case 117:T=!1,P=!1,e.prev=119,W=function(){var e=L.value,t=Object(U["f"])({name:"thingAction"+Date.now()});t=Object(U["c"])(t,B["d"].type,B["a"].Relationship),t=Object(U["c"])(t,B["d"].type,B["a"].Activity),void 0!=e.url&&(t=Object(U["c"])(t,B["d"].type,e.url)),void 0!=e.url&&(t=Object(U["c"])(t,B["a"].Link,e.url)),t=Object(U["b"])(t,B["a"].name,e.text),l.forEach((function(e){t=Object(U["c"])(t,B["a"].subject,e)})),d.forEach((function(e){t=Object(U["c"])(t,B["a"].object,e)})),p.forEach((function(e){t=Object(U["c"])(t,B["a"].context,e)})),i=Object(U["c"])(i,B["a"].object,t),u=Object(U["B"])(u,t)},F=Object(_["a"])(t.event.customData.actions);case 122:return e.next=124,F.next();case 124:if(!(T=!(L=e.sent).done)){e.next=129;break}W();case 126:T=!1,e.next=122;break;case 129:e.next=135;break;case 131:e.prev=131,e.t3=e["catch"](119),P=!0,J=e.t3;case 135:if(e.prev=135,e.prev=136,!T||null==F.return){e.next=140;break}return e.next=140,F.return();case 140:if(e.prev=140,!P){e.next=143;break}throw J;case 143:return e.finish(140);case 144:return e.finish(135);case 145:return u=Object(U["B"])(u,i),e.next=148,Object(U["x"])(o+c+".ttl",u,{fetch:G["fetch"]});case 148:z=e.sent,console.log("savedDS",z);case 150:case"end":return e.stop()}}),e,null,[[20,37,41,51],[42,,46,50],[53,70,74,84],[75,,79,83],[86,103,107,117],[108,,112,116],[119,131,135,145],[136,,140,144]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$exploreEvents=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,o,a,s,u,i,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.value.url+"events/",e.next=3,Object(U["n"])(n,{fetch:G["fetch"]});case 3:return r=e.sent,console.log(r),e.next=7,Object(U["j"])(r,{fetch:G["fetch"]});case 7:c=e.sent,o=[],a=!1,s=!1,e.prev=11,i=Object(_["a"])(c);case 13:return e.next=15,i.next();case 15:if(!(a=!(l=e.sent).done)){e.next=25;break}return d=l.value,e.t0=o,e.next=20,this.$readEvent(d);case 20:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 22:a=!1,e.next=13;break;case 25:e.next=31;break;case 27:e.prev=27,e.t2=e["catch"](11),s=!0,u=e.t2;case 31:if(e.prev=31,e.prev=32,!a||null==i.return){e.next=36;break}return e.next=36,i.return();case 36:if(e.prev=36,!s){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return console.log("Events",o),p={source:t,url:n,events:o},console.log("container",p),e.abrupt("return",p);case 45:case"end":return e.stop()}}),e,this,[[11,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readEvent=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,o,a,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["n"])(t,{fetch:G["fetch"]});case 2:return n=e.sent,r=t.substring(t.lastIndexOf("/")+1).split(".ttl")[0],console.log(r),c="",o=[],a={},e.prev=8,e.next=11,Object(U["r"])(n,t+"#"+r);case 11:return c=e.sent,console.log(),a.url=t,e.next=16,Object(U["p"])(c,B["a"].name);case 16:return a.name=e.sent,e.next=19,Object(U["k"])(c,B["a"].startTime);case 19:return a.start=e.sent,e.next=22,Object(U["k"])(c,B["a"].endTime);case 22:return a.end=e.sent,e.next=25,Object(U["s"])(n);case 25:s=e.sent,u=!1,i=!1,e.prev=28,d=Object(_["a"])(s);case 30:return e.next=32,d.next();case 32:if(!(u=!(p=e.sent).done)){e.next=42;break}return b=p.value,e.t0=o,e.next=37,this.$readThing(b);case 37:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 39:u=!1,e.next=30;break;case 42:e.next=48;break;case 44:e.prev=44,e.t2=e["catch"](28),i=!0,l=e.t2;case 48:if(e.prev=48,e.prev=49,!u||null==d.return){e.next=53;break}return e.next=53,d.return();case 53:if(e.prev=53,!i){e.next=56;break}throw l;case 56:return e.finish(53);case 57:return e.finish(48);case 58:e.next=63;break;case 60:e.prev=60,e.t3=e["catch"](8),console.log(e.t3);case 63:return e.abrupt("return",{url:t,event:a,thing:c,thingsAll:o});case 64:case"end":return e.stop()}}),e,this,[[8,60],[28,44,48,58],[49,,53,57]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readThing=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("read",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$createEvent2=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a,s,u,i,l,d,p,b,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,c=encodeURI(t.name)||Date.now(),o=t.url,a=t.parent,s=o+c+".ttl",u="Open this file with https://scenaristeur.github.io/game-sync?url="+s,console.log("creating",s),e.next=9,Object(U["e"])();case 9:return i=e.sent,e.next=12,Object(U["f"])({name:c});case 12:return l=e.sent,console.log("create",l),console.log(B["d"].type,B["a"].Event),l=Object(U["b"])(l,B["a"].name,c),l=Object(U["c"])(l,B["d"].type,B["a"].Event),l=Object(U["a"])(l,B["a"].startTime,t.event.customData.start),l=Object(U["a"])(l,B["a"].endTime,t.event.customData.end),l=Object(U["b"])(l,B["e"].comment,u),t.event.customData.contexts.length>0&&(l=Object(U["b"])(l,B["a"].context,JSON.stringify(t.event.customData.contexts))),l=Object(U["b"])(l,W.updates,JSON.stringify(t.event)),null!=n.state.solid.pod&&(l=Object(U["c"])(l,B["a"].actor,n.state.solid.pod.webId)),l=Object(U["b"])(l,B["a"].published,r.toISOString()),void 0!=a&&(l=Object(U["c"])(l,B["c"].sameAs,a),console.log("update de parent avec rdfs:seeAlso, https://www.w3.org/wiki/UsingSeeAlso",a),t.seeAlso=o+c+".ttl",this.$addSeeAlso(t)),e.next=27,Object(U["d"])(Object(U["f"])({name:"activity-test"})).addUrl(B["d"].type,B["a"].Activity).addStringNoLocale(B["a"].name,"Activity test").build();case 27:return d=e.sent,console.log("ME",d),d=Object(U["b"])(d,B["a"].name,"Activity test 22222"),l=Object(U["c"])(l,B["a"].object,d),p=Object(U["B"])(i,l),e.next=34,Object(U["x"])(o+c+".ttl",p,{fetch:G["fetch"]});case 34:return b=e.sent,console.log("meThingsavedThing",b),console.log("meThing",d),console.log(b),f={url:o+c+".ttl",subscribe:!0},console.log("read",f),this.$readResource(f),e.abrupt("return",b);case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$create=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,c=t.name||Date.now(),o=t.url,a=t.parent,s=o+c+".ttl",u="Open this file with https://scenaristeur.github.io/game-sync?url="+s,console.log("creating",s),e.next=9,Object(U["e"])();case 9:return i=e.sent,e.next=12,Object(U["f"])({name:c});case 12:return l=e.sent,console.log("create",l),l=Object(U["b"])(l,B["a"].name,c),l=Object(U["b"])(l,B["e"].comment,u),l=Object(U["c"])(l,B["a"].actor,n.state.solid.pod.webId),l=Object(U["b"])(l,B["a"].published,r.toISOString()),void 0!=a&&(l=Object(U["c"])(l,B["c"].sameAs,a),console.log("update de parent avec rdfs:seeAlso, https://www.w3.org/wiki/UsingSeeAlso",a),t.seeAlso=o+c+".ttl",this.$addSeeAlso(t)),d=Object(U["B"])(i,l),e.next=22,Object(U["x"])(o+c+".ttl",d,{fetch:G["fetch"]});case 22:return p=e.sent,b={url:o+c+".ttl",subscribe:!0},console.log("read",b),this.$readResource(b),this.$store.commit("gamesync/setNetworkUrl",{url:o+c+".ttl"}),e.abrupt("return",p);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$addSeeAlso=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.parent.split("#")[0],e.next=3,Object(U["n"])(n,{fetch:G["fetch"]});case 3:return r=e.sent,console.log(r),e.next=7,Object(U["r"])(r,t.parent);case 7:return c=e.sent,c=Object(U["C"])(c,B["e"].seeAlso,t.seeAlso),o=Object(U["B"])(r,c),e.next=12,Object(U["x"])(n,o,{fetch:G["fetch"]});case 12:return a=e.sent,console.log("NODE UPDATED ",a),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$explore=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$subscribe(t),t.url.endsWith("/")?this.$readContainer(t):this.$readResource(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$read=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("$read",t),t.url.endsWith("/")?this.$readContainer(t):this.$readResource(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$subscribe=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,c,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("$subscribe",t),n=t.url,c=this,o="wss://"+n.split("/")[2],a=r[o],null==a&&(a=new WebSocket(o,["solid-0.1"]),console.log("new socket",a),r[o]=a),a.onopen=function(){this.send("sub "+n)},a.onmessage=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data||"pub"!==t.data.slice(0,3)){e.next=15;break}if(console.log(t.data),n=t.data.slice(4),console.log(n),!n.endsWith("/")){e.next=12;break}return console.log("readcont",n),e.next=8,c.$readContainer({url:n,subscribe:!0});case 8:r=e.sent,r.resources.forEach((function(e){o.send("sub "+e)})),e.next=15;break;case 12:return console.log("must $readResource",n),e.next=15,c.$readResource({url:n,subscribe:!0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readContainer=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.url,e.next=3,Object(U["n"])(r,{fetch:G["fetch"]});case 3:return c=e.sent,console.log(c),e.next=7,Object(U["j"])(c,{fetch:G["fetch"]});case 7:return o=e.sent,console.log("Resources",o),a={url:r,resources:o},n.commit("gamesync/setGameContainer",a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readResource=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a,s,u,i,l,d,p,b,f,h,g,v,m,O,x,j,k,w,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("$readResource",t),r=t.url,e.next=4,Object(U["n"])(r,{fetch:G["fetch"]});case 4:return c=e.sent,o=r.substring(r.lastIndexOf("/")+1).split(".ttl")[0],console.log(o),e.next=9,Object(U["r"])(c,r+"#"+o);case 9:return a=e.sent,e.next=12,Object(U["q"])(a,B["a"].content);case 12:return s=e.sent,e.next=15,Object(U["s"])(c);case 15:u=e.sent,i={nodes:[],edges:[]},l=!1,d=!1,e.prev=19,b=Object(_["a"])(u);case 21:return e.next=23,b.next();case 23:if(!(l=!(f=e.sent).done)){e.next=84;break}return h=f.value,e.next=27,Object(U["p"])(h,W.id);case 27:return g=e.sent,e.next=30,Object(U["t"])(h,B["d"].type);case 30:return v=e.sent,e.next=33,Object(U["p"])(h,W.label);case 33:return m=e.sent,O={id:g,url:h.url,type:v,label:m},e.next=37,Object(U["p"])(h,W.properties);case 37:return x=e.sent,e.next=40,Object(U["u"])(h,B["c"].sameAs);case 40:return O.sameAs=e.sent,e.next=43,Object(U["u"])(h,B["e"].seeAlso);case 43:O.seeAlso=e.sent;try{O.properties=JSON.parse("".concat(x))}catch(R){console.info(R,"".concat(x))}if(null==v||v!=W.Node){e.next=67;break}return O.color={},O.type=v.replace(W.base,""),e.next=50,Object(U["p"])(h,W.shape);case 50:return O.shape=e.sent,e.next=53,Object(U["l"])(h,W.cid);case 53:return O.cid=e.sent,e.next=56,Object(U["p"])(h,W.backgroundColor);case 56:return O.color.background=e.sent,e.next=59,Object(U["p"])(h,W.borderColor);case 59:return O.color.border=e.sent,e.next=62,Object(U["p"])(h,W.updates);case 62:j=e.sent,O.updates=JSON.parse("".concat(j)),i.nodes.push(O),e.next=81;break;case 67:if(null==v||v!=W.Edge){e.next=80;break}return O.type=v.replace(W.base,""),e.next=71,Object(U["t"])(h,W.from);case 71:return k=e.sent,e.next=74,Object(U["t"])(h,W.to);case 74:w=e.sent,k.startsWith(r)?O.from=k.replace(r,""):O.from=k,w.startsWith(r)?O.to=w.replace(r,""):O.to=w,i.edges.push(O),e.next=81;break;case 80:console.log("type unknown",v);case 81:l=!1,e.next=21;break;case 84:e.next=90;break;case 86:e.prev=86,e.t0=e["catch"](19),d=!0,p=e.t0;case 90:if(e.prev=90,e.prev=91,!l||null==b.return){e.next=95;break}return e.next=95,b.return();case 95:if(e.prev=95,!d){e.next=98;break}throw p;case 98:return e.finish(95);case 99:return e.finish(90);case 100:y={url:r,updates:s,network:i},console.log("Game",y),n.commit("gamesync/setGame",y);case 103:case"end":return e.stop()}}),e,null,[[19,86,90,100],[91,,95,99]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$checkSessions=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("params",t),console.log("window.location.href",window.location.href),r=G["getDefaultSession"](),console.log("session",r),G["onSessionRestore"]((function(e){console.log("restore",e);var t=e.split("?")[1];console.log("query",t),n.commit("solid/setSession",r),c.$getPodInfosFromSession(r)})),e.prev=5,e.next=8,G["handleIncomingRedirect"]({restorePreviousSession:t.restore,url:window.location.href}).then((function(e){console.log(e)}));case 8:n.commit("solid/setSession",r),this.$getPodInfosFromSession(r),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),alert("$checkSessions "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$addNode=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.node,e.next=3,Object(U["n"])(t.url,{fetch:G["fetch"]});case 3:return c=e.sent,e.next=6,Object(U["f"])({name:r.id});case 6:return o=e.sent,o=Object(U["C"])(o,B["d"].type,W.Node),void 0!=r.label&&(o=Object(U["A"])(o,B["a"].name,r.label)),o=Object(U["A"])(o,W.id,r.id),void 0!=r.label&&(o=Object(U["A"])(o,W.label,r.label)),void 0!=r.shape&&(o=Object(U["A"])(o,W.shape,r.shape)),void 0!=r.x&&(o=Object(U["y"])(o,W.x,r.x)),void 0!=r.y&&(o=Object(U["y"])(o,W.y,r.y)),void 0!=r.z&&(o=Object(U["y"])(o,W.z,r.z)),void 0!=r.color&&void 0!=r.color.background&&(o=Object(U["A"])(o,W.backgroundColor,r.color.background)),void 0!=r.color&&void 0!=r.color.border&&(o=Object(U["A"])(o,W.borderColor,r.color.border)),void 0!=r.cid&&(o=Object(U["z"])(o,W.cid,r.cid)),void 0!=r.properties&&(o=Object(U["A"])(o,W.properties,JSON.stringify(r.properties))),o=Object(U["b"])(o,W.updates,JSON.stringify(n)),a=Object(U["B"])(c,o),e.next=23,Object(U["x"])(t.url,a,{fetch:G["fetch"]});case 23:return s=e.sent,console.log("NODE ADDED ",s),e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$updateNode=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo update node",t,n),r=n.node,e.next=4,Object(U["n"])(t.url,{fetch:G["fetch"]});case 4:return c=e.sent,console.log(c),e.next=8,Object(U["r"])(c,t.url+r.id);case 8:return o=e.sent,o=Object(U["C"])(o,B["d"].type,W.Node),void 0!=r.label&&(o=Object(U["A"])(o,B["a"].name,r.label)),o=Object(U["A"])(o,W.id,r.id),void 0!=r.label&&(o=Object(U["A"])(o,W.label,r.label)),void 0!=r.shape&&(o=Object(U["A"])(o,W.shape,r.shape)),void 0!=r.x&&(o=Object(U["y"])(o,W.x,r.x)),void 0!=r.y&&(o=Object(U["y"])(o,W.y,r.y)),void 0!=r.z&&(o=Object(U["y"])(o,W.z,r.z)),void 0!=r.color&&void 0!=r.color.background&&(o=Object(U["A"])(o,W.backgroundColor,r.color.background)),void 0!=r.color&&void 0!=r.color.border&&(o=Object(U["A"])(o,W.borderColor,r.color.border)),void 0!=r.cid&&(o=Object(U["z"])(o,W.cid,r.cid)),void 0!=r.properties&&(o=Object(U["A"])(o,W.properties,JSON.stringify(r.properties))),o=Object(U["b"])(o,W.updates,JSON.stringify(n)),a=Object(U["B"])(c,o),e.next=25,Object(U["x"])(t.url,a,{fetch:G["fetch"]});case 25:return s=e.sent,console.log("NODE UPDATED ",s),e.abrupt("return",s);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$addEdge=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("adding Edge",t,n),r=n.edge,e.next=4,Object(U["n"])(t.url,{fetch:G["fetch"]});case 4:return c=e.sent,e.next=7,Object(U["r"])(c,t.url+r.from);case 7:return o=e.sent,e.next=10,Object(U["r"])(c,t.url+r.to);case 10:if(a=e.sent,null!=o){e.next=16;break}return e.next=14,Object(U["f"])(c,t.url+r.from);case 14:e.next=17;break;case 16:case 17:if(null!=a){e.next=22;break}return e.next=20,Object(U["f"])(c,t.url+r.to);case 20:e.next=23;break;case 22:case 23:return e.next=25,Object(U["f"])({name:r.id});case 25:return s=e.sent,s=Object(U["C"])(s,B["d"].type,W.Edge),void 0!=r.label&&(s=Object(U["A"])(s,B["a"].name,r.label)),s=Object(U["A"])(s,W.id,r.id),void 0!=r.label&&(s=Object(U["A"])(s,W.label,r.label)),void 0!=r.from&&(s=Object(U["C"])(s,W.from,o)),void 0!=r.to&&(s=Object(U["C"])(s,W.to,a)),void 0!=r.properties&&(s=Object(U["A"])(s,W.properties,JSON.stringify(r.properties))),s=Object(U["b"])(s,W.updates,JSON.stringify(n)),u=Object(U["B"])(c,s),e.next=37,Object(U["x"])(t.url,u,{fetch:G["fetch"]});case 37:return i=e.sent,console.log("Edge ADDED ",i),e.abrupt("return",i);case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$updateEdge=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo add Edge",t,n),r=n.edge,e.next=4,Object(U["n"])(t.url,{fetch:G["fetch"]});case 4:return c=e.sent,e.next=7,Object(U["r"])(c,t.url+r.from);case 7:return o=e.sent,e.next=10,Object(U["r"])(c,t.url+r.to);case 10:return a=e.sent,e.next=13,Object(U["r"])(c,t.url+"#"+r.id);case 13:return s=e.sent,s=Object(U["C"])(s,B["d"].type,W.Edge),void 0!=r.label&&(s=Object(U["A"])(s,B["a"].name,r.label)),s=Object(U["A"])(s,W.id,r.id),void 0!=r.label&&(s=Object(U["A"])(s,W.label,r.label)),void 0!=r.from&&(s=Object(U["C"])(s,W.from,o)),void 0!=r.to&&(s=Object(U["C"])(s,W.to,a)),void 0!=r.properties&&(s=Object(U["A"])(s,W.properties,JSON.stringify(r.properties))),s=Object(U["b"])(s,W.updates,JSON.stringify(n)),u=Object(U["B"])(c,s),e.next=25,Object(U["x"])(t.url,u,{fetch:G["fetch"]});case 25:return i=e.sent,console.log("Edge Updated ",i),e.abrupt("return",i);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$removeObjects=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo remove",t,n),r=n.objects.nodes.concat(n.objects.edges),console.log(r),e.next=5,Object(U["n"])(t.url,{fetch:G["fetch"]});case 5:c=e.sent,o=!1,a=!1,e.prev=8,u=Object(_["a"])(r);case 10:return e.next=12,u.next();case 12:if(!(o=!(i=e.sent).done)){e.next=27;break}return l=i.value,d=t.url+"#"+l,l.startsWith("http")&&(d=l),l.startsWith("#")&&(d=t.url+l),e.next=19,Object(U["r"])(c,d);case 19:return p=e.sent,console.log("removing",p),e.next=23,Object(U["w"])(c,d);case 23:c=e.sent;case 24:o=!1,e.next=10;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](8),a=!0,s=e.t0;case 33:if(e.prev=33,e.prev=34,!o||null==u.return){e.next=38;break}return e.next=38,u.return();case 38:if(e.prev=38,!a){e.next=41;break}throw s;case 41:return e.finish(38);case 42:return e.finish(33);case 43:return e.next=45,Object(U["x"])(t.url,c,{fetch:G["fetch"]});case 45:return b=e.sent,console.log("saved dataset ",b),e.abrupt("return",b);case 48:case"end":return e.stop()}}),e,null,[[8,29,33,43],[34,,38,42]])})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$getPermissions=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r,c,o,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.state.solid.pod.webId,console.log("url",t,r),c={url:t},e.next=5,Object(U["o"])(t,{fetch:G["fetch"]});case 5:return o=e.sent,a=Object(U["m"])(o),console.log("publicAccess",a),c.publicAccess=a,e.next=11,Object(U["o"])(t,{fetch:G["fetch"]});case 11:return s=e.sent,console.log("ds",s),u=Object(U["i"])(s,r,{fetch:G["fetch"]}),console.log("agentAccess",r,u),c.agent=r,c.agentAccess=u,e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getResourceInfos=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,Object(U["n"])(t,{fetch:G["fetch"]});case 3:return r=e.sent,c=t.substring(t.lastIndexOf("/")+1).split(".ttl")[0],console.log(c),e.next=8,Object(U["r"])(r,t+"#"+c);case 8:return o=e.sent,console.log(o),n.name=Object(U["p"])(o,B["a"].name,name),console.log("infos",n),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$updateGame=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t,r),r.actor=null!=n.state.solid.pod?n.state.solid.pod.webId:"unknown",e.t0=r.action,e.next="addNode"===e.t0?5:"updateNode"===e.t0?8:"addEdge"===e.t0?11:"updateEdge"===e.t0?14:"removeObjects"===e.t0?17:20;break;case 5:return e.next=7,this.$addNode(t,r);case 7:return e.abrupt("break",21);case 8:return e.next=10,this.$updateNode(t,r);case 10:return e.abrupt("break",21);case 11:return e.next=13,this.$addEdge(t,r);case 13:return e.abrupt("break",21);case 14:return e.next=16,this.$updateEdge(t,r);case 16:return e.abrupt("break",21);case 17:return e.next=19,this.$removeObjects(t,r);case 19:return e.abrupt("break",21);case 20:console.log("action inconnue",t,r);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$changeGame=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["n"])(t.url,{fetch:G["fetch"]});case 2:return r=e.sent,console.log(r),c=(new Date).toISOString(),o=t.url.substring(t.url.lastIndexOf("/")+1).split(".ttl")[0],console.log(o),e.next=9,Object(U["r"])(r,t.url+"#"+o);case 9:return a=e.sent,console.log(a),n.date=c,a=Object(U["b"])(a,B["a"].content,JSON.stringify(n)),s=Object(U["B"])(r,a),e.next=16,Object(U["x"])(t.url,s,{fetch:G["fetch"]});case 16:return u=e.sent,console.log("File saved",u),e.next=20,this.$updateGame(t,n);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$remove=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["n"])(t.url,{fetch:G["fetch"]});case 2:return r=e.sent,console.log(r),c=t.url.substring(t.url.lastIndexOf("/")+1).split(".ttl")[0],console.log(c),e.next=8,Object(U["r"])(r,t.url+"#"+c);case 8:return o=e.sent,console.log(o),o=Object(U["v"])(o,B["a"].content,n),a=Object(U["B"])(r,o),e.next=14,Object(U["x"])(t.url,a,{fetch:G["fetch"]});case 14:s=e.sent,console.log("File saved",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$login=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G["login"]({oidcIssuer:t,redirectUrl:window.location.href,clientName:"GameSync"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert("$login "+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$logout=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=G["getDefaultSession"](),console.log(t),e.next=5,r.logout();case 5:n.commit("solid/setSession",null),n.commit("solid/setPod",null),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),alert("$logout "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getPodInfosFromSession=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r={},r.logged=t.info.isLoggedIn,!r.logged){e.next=12;break}return r.webId=t.info.webId,e.next=7,this.$getPodInfos(r);case 7:r=e.sent,n.commit("solid/setPod",r),r.storage,e.next=13;break;case 12:n.commit("solid/setPod",null);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),alert("$getPodInfosFromSession "+e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getPodInfos=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U["n"])(t.webId,{fetch:G["fetch"]});case 3:return n=e.sent,console.log("DATASET",n),e.next=7,Object(U["r"])(n,t.webId);case 7:return r=e.sent,e.next=10,Object(U["p"])(r,B["b"].name);case 10:return t.name=e.sent,e.next=13,Object(U["u"])(r,B["b"].knows).map((function(e){return{webId:e}}));case 13:return t.friends=e.sent,e.next=16,Object(U["t"])(r,J["a"].storage);case 16:return t.storage=e.sent,e.next=19,Object(U["t"])(r,B["f"].hasPhoto);case 19:t.photo=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),console.log("erreur",e.t0,t);case 25:return e.next=27,t;case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$deleteOnPod=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.endsWith("/")){e.next=6;break}return e.next=4,Object(U["g"])(t,{fetch:G["fetch"]});case 4:e.next=8;break;case 6:return e.next=8,Object(U["h"])(t,{fetch:G["fetch"]});case 8:console.log(" deleted !",t),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.logAccessInfo=function(e,t,n){null===t?console.log("Could not load access details for this Resource."):(console.log("".concat(e,"'s Access:: "),JSON.stringify(t)),console.log("...",e,t.read?"CAN":"CANNOT","read the Resource",n),console.log("...",e,t.append?"CAN":"CANNOT","add data to the Resource",n),console.log("...",e,t.write?"CAN":"CANNOT","change data in the Resource",n),console.log("...",e,t.controlRead?"CAN":"CANNOT","see access to the Resource",n),console.log("...",e,t.controlWrite?"CAN":"CANNOT","change access to the Resource",n))}}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(F);var L=F,z=n("b329"),M=n("bd8c"),q=n.n(M),H=n("5f5b"),V=n("b1e0"),K=(n("f9e3"),n("2dd8"),n("5887")),Q=n.n(K);r["default"].use(L,{store:T}),r["default"].component("network",z["Network"]),r["default"].use(q.a),r["default"].use(H["a"]),r["default"].use(V["a"]),r["default"].config.productionTip=!1,r["default"].use(Q.a,{}),new r["default"]({router:h,store:T,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.ed88c6f2.js.map