(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],l=0,d=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function s(e){return u.p+"js/"+({about:"about",event:"event",sync:"sync",test:"test",wiki:"wiki"}[e]||e)+"."+{about:"af7a4d19","chunk-2d207f75":"d02a99dc","chunk-e592f350":"363c5d3d",event:"d67b14f4",sync:"49289d06",test:"a1a3e741",wiki:"005e6822","chunk-2d2306d1":"a87ce244","chunk-7b5b442e":"563e7eb1","chunk-2d221a55":"aed2ba50","chunk-52556e62":"0a90f3cc","chunk-9f50c5d2":"acbaea2b","chunk-2d0afa76":"9744d637","chunk-2d0d2bbc":"7ada6566","chunk-2d0e5731":"e19783bb","chunk-2d21a387":"eb94d0f6","chunk-6ecdf79e":"63d7fabf","chunk-59d28115":"97d4ba3c","chunk-2d0b5da3":"0ca743d6","chunk-40fc2ee6":"dca41c46","chunk-60ebc6d0":"fdaa1188","chunk-2d0d0685":"f181679e","chunk-2d0dd9f2":"ecf04ddd","chunk-2d215ca0":"c7e38c25","chunk-2d216f1a":"e53f6f94","chunk-11352525":"bdbc2ebb","chunk-2d0c51f7":"82989dda","chunk-76f086eb":"138937b8","chunk-87532416":"d5fab5db","chunk-2d2244a2":"a9055a6b","chunk-180affe4":"3c41c1f9","chunk-2d0cc5ba":"a3ffae63","chunk-2d22d037":"579dfcd0","chunk-dc510af6":"5e9429f6","chunk-4060d866":"1b15dc50","chunk-2d0c4673":"b427141b","chunk-69937f00":"c365f719","chunk-191d6952":"84be12a7","chunk-2d216f2d":"32c106aa","chunk-66475232":"38d19efc","chunk-2d0e2723":"5da4efbb","chunk-2d0df274":"0638917c","chunk-2d217c19":"64453a92"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-7b5b442e":1,"chunk-52556e62":1,"chunk-9f50c5d2":1,"chunk-6ecdf79e":1,"chunk-59d28115":1,"chunk-40fc2ee6":1,"chunk-11352525":1,"chunk-87532416":1,"chunk-180affe4":1,"chunk-dc510af6":1,"chunk-4060d866":1,"chunk-69937f00":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",event:"event",sync:"sync",test:"test",wiki:"wiki"}[e]||e)+"."+{about:"31d6cfe0","chunk-2d207f75":"31d6cfe0","chunk-e592f350":"31d6cfe0",event:"31d6cfe0",sync:"31d6cfe0",test:"31d6cfe0",wiki:"31d6cfe0","chunk-2d2306d1":"31d6cfe0","chunk-7b5b442e":"4ac5b8f9","chunk-2d221a55":"31d6cfe0","chunk-52556e62":"f455a842","chunk-9f50c5d2":"679e1610","chunk-2d0afa76":"31d6cfe0","chunk-2d0d2bbc":"31d6cfe0","chunk-2d0e5731":"31d6cfe0","chunk-2d21a387":"31d6cfe0","chunk-6ecdf79e":"c19df262","chunk-59d28115":"6b1c7da0","chunk-2d0b5da3":"31d6cfe0","chunk-40fc2ee6":"81b0311f","chunk-60ebc6d0":"31d6cfe0","chunk-2d0d0685":"31d6cfe0","chunk-2d0dd9f2":"31d6cfe0","chunk-2d215ca0":"31d6cfe0","chunk-2d216f1a":"31d6cfe0","chunk-11352525":"5a00d969","chunk-2d0c51f7":"31d6cfe0","chunk-76f086eb":"31d6cfe0","chunk-87532416":"840e08b6","chunk-2d2244a2":"31d6cfe0","chunk-180affe4":"81679fc7","chunk-2d0cc5ba":"31d6cfe0","chunk-2d22d037":"31d6cfe0","chunk-dc510af6":"2fa51c44","chunk-4060d866":"5dccdab4","chunk-2d0c4673":"31d6cfe0","chunk-69937f00":"e42a3c01","chunk-191d6952":"31d6cfe0","chunk-2d216f2d":"31d6cfe0","chunk-66475232":"31d6cfe0","chunk-2d0e2723":"31d6cfe0","chunk-2d0df274":"31d6cfe0","chunk-2d217c19":"31d6cfe0"}[e]+".css",a=u.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===a))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],l=i.getAttribute("data-href");if(l===r||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],p.parentNode.removeChild(p),n(o)},p.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",d.name="ChunkLoadError",d.type=r,d.request=c,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/game-sync/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view"),e._m(0)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",[n("i",[e._v("0.0.13 - wiki mentions & delete")])])}],o=(n("d3b7"),n("3ca3"),n("ddb0"),{name:"App",components:{Navbar:function(){return n.e("chunk-2d207f75").then(n.bind(null,"a37d"))}}}),s=o,u=(n("034f"),n("2877")),i=Object(u["a"])(s,c,a,!1,null,null,null),l=i.exports,d=n("9483");Object(d["a"])("".concat("/game-sync/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),alert("GameSync has been updated, please close the app & re-open")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=n("8c4f");r["default"].use(p["a"]);var b=[{path:"/",name:"Sync",component:function(){return n.e("sync").then(n.bind(null,"23d9"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/test",name:"Test",component:function(){return n.e("test").then(n.bind(null,"78c1"))}},{path:"/event",name:"Event",component:function(){return n.e("event").then(n.bind(null,"d3dc"))}},{path:"/wiki",name:"Wiki",component:function(){return n.e("wiki").then(n.bind(null,"dd3d"))}}],f=new p["a"]({mode:"history",base:"/game-sync/",routes:b}),h=f,g=n("2f62"),v=function(){return{session:null,pod:{}}},m={},O={setPod:function(e,t){e.pod=t},setSession:function(e,t){e.session=t}},x={namespaced:!0,state:v,actions:m,mutations:O},j=function(){return{url:"",gameContainer:null,game:null,networkUrl:null}},k={explore:function(e,t){e.commit("setUrl",t),console.log(t);var n={url:t,subscribe:!0};r["default"].prototype.$explore(n)}},w={setUrl:function(e,t){console.log("url",t),e.url=t},setNetworkUrl:function(e,t){e.networkUrl=t},setGameContainer:function(e,t){e.gameContainer=t},setGame:function(e,t){e.game=t}},y={namespaced:!0,state:j,actions:k,mutations:w},R=(n("498a"),n("4de4"),function(){return{spinner:0,graphs:[],inputObject:null,commands:{"/i":"import","/h":"help","/n":"newGraph","/e":"export","/c":"capture"},commandInput:"",history:[],action:null,editorContent:{},dataToSave:{},socketMessageUrl:"gr",newGraph:{},currentItem:{},edgeFilter:{},hiddenEdges:[]}}),A={},$={},S={setAction:function(e,t){console.log(t),e.action=t},setWebsocketMesssage:function(e,t){console.log("message in store",t),e.socketMessageUrl=t},setNewGraph:function(e,t){e.newGraph=t},setCurrentItem:function(e,t){console.log(t),e.currentItem=t},setInputObject:function(e,t){console.log(t),"commande"==t.type?(e.action={action:e.commands[t.value]},console.log(e.action),void 0==e.action.action&&alert("Warning : Unknown action "+t.value+" , type /h for help")):e.inputObject=t},setCommandInput:function(e,t){console.log(t),t=t.trim(),e.commandInput=t.indexOf(" ")>=0?'"'+t+'" ':t+" "},addToHistory:function(e,t){var n=e.history.filter((function(e){return e.id!==t.id}));n.push(t),e.history=n},setEditorContent:function(e,t){console.log(t),e.editorContent=t},setNetwork:function(e,t){console.log(t),e.network=t},setDataToSave:function(e,t){console.log(t),e.dataToSave=t},spinnerAdd:function(e){console.log("spinnerAdd",new Date),e.spinner++},spinnerRemove:function(e){console.log("spinnerRemove",new Date),e.spinner--},spinnerInit:function(e){e.spinner=0},setGraphs:function(e,t){e.graphs=t},setEdgeFilter:function(e,t){e.edgeFilter=t},setHiddenEdges:function(e,t){e.hiddenEdges=t}},E={namespaced:!0,state:R,getters:A,actions:$,mutations:S},C=(n("159b"),function(){return{calendars:{private:{name:"private",url:"",active:!0,color:"#17a2b8",permissions:"private"},public:{name:"public",url:"",active:!0,color:"#20c997",permissions:"public"},agora:{name:"agora",url:"https://agora.solidcommunity.net/public/events/",active:!0,color:"#fd7e14",permissions:"public"}},events:[]}}),N={addEvent:function(e,t){e.commit("addEvent",t.event),console.log(t);var n=e.rootState.solid.pod;t.publishTo.forEach((function(e){var c={};c.url=null==n||"public"!=e&&"private"!=e?e.url:n.storage+e+"/",c.url+="events/",c.name=t.event.customData.title||t.event.key,c.event=t.event,console.log(c);var a=r["default"].prototype.$createEvent(c);console.log("Event created",a)}))},updateCals:function(e,t){e.commit("setCals",t),console.log("update cals on pod : todo",t)}},I={addEvent:function(e,t){e.events.push(t),console.log(e.events)},setCals:function(e,t){e.cals=t,console.log(e.cals)}},D={namespaced:!0,state:C,actions:N,mutations:I},T=n("b85c"),W=n("1da1"),P=(n("b0c0"),n("c740"),n("96cf"),function(){return{wikiData:null,wikiIndex:[],searchQuery:"",mentionTarget:{}}}),_={getWikiContainer:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function n(){var c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),c={url:t,subscribe:!0},n.next=4,r["default"].prototype.$readContainer(c);case 4:a=n.sent,console.log("container",a),e.commit("setWikiData",a);case 7:case"end":return n.stop()}}),n)})))()},create:function(e,t){var n=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,r["default"].prototype.$createWikiEntry(t);case 3:return e.next=5,n.dispatch("wiki/getWikiContainer",t.path);case 5:case"end":return e.stop()}}),e)})))()},update:function(e,t){var n=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,r["default"].prototype.$updateWikiEntry(t);case 3:return e.next=5,n.dispatch("wiki/getWikiContainer",t.path);case 5:case"end":return e.stop()}}),e)})))()},add:function(e,t){var n=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,r["default"].prototype.$addWikiEntry(t);case 3:return e.next=5,n.dispatch("wiki/getWikiContainer",t.path);case 5:case"end":return e.stop()}}),e)})))()}},B={setWikiData:function(e,t){e.wikiData=t||null},updateIndex:function(e,t){var n,r=Object(T["a"])(t.things);try{var c=function(){var t=n.value,r={name:t.name,url:t.url};a=e.wikiIndex.findIndex((function(e){return e.url==t.url})),-1===a?e.wikiIndex.push(r):Object.assign(e.wikiIndex[a],r)};for(r.s();!(n=r.n()).done;){var a;c()}}catch(o){r.e(o)}finally{r.f()}},setSearchQuery:function(e,t){e.searchQuery=t},setMentionTarget:function(e,t){e.mentionTarget=t}},U={namespaced:!0,state:P,actions:_,mutations:B};r["default"].use(g["a"]);var J=new g["a"].Store({state:{},mutations:{},actions:{},modules:{solid:x,gamesync:y,ipgs:E,events:D,wiki:U}}),G=n("3835"),L=n("668b"),F=(n("ac1f"),n("1276"),n("8a79"),n("fb6a"),n("5319"),n("2ca0"),n("99af"),n("d81d"),n("93ef")),z=n("d11f"),M=n("dbc7"),q=n("8522"),H={base:"https://scenaristeur.github.io/ipgs#",id:"https://scenaristeur.github.io/ipgs#id",label:"https://scenaristeur.github.io/ipgs#label",Node:"https://scenaristeur.github.io/ipgs#Node",Edge:"https://scenaristeur.github.io/ipgs#Edge",shape:"https://scenaristeur.github.io/ipgs#shape",backgroundColor:"https://scenaristeur.github.io/ipgs#backgroundColor",borderColor:"https://scenaristeur.github.io/ipgs#borderColor",cid:"https://scenaristeur.github.io/ipgs#cid",x:"https://scenaristeur.github.io/ipgs#x",y:"https://scenaristeur.github.io/ipgs#y",z:"https://scenaristeur.github.io/ipgs#z",properties:"https://scenaristeur.github.io/ipgs#properties",updates:"https://scenaristeur.github.io/ipgs#updates",from:"https://scenaristeur.github.io/ipgs#from",to:"https://scenaristeur.github.io/ipgs#to"},Q={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.store,r=[];e.prototype.$eventFormToCal=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_f",t),n={},console.log("e_c",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventCalToAs=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_c",t),n={},console.log("e_a",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventAsToCal=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_a",t),n={},console.log("e_c",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$eventCalToForm=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("e_c",t),n={},console.log("e_f",n),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$updateWikiEntry=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u,i,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,Object(F["n"])(t.url,{fetch:q["fetch"]});case 3:c=e.sent,a=!1,o=!1,e.prev=6,u=Object(L["a"])(t.things);case 8:return e.next=10,u.next();case 10:if(!(a=!(i=e.sent).done)){e.next=26;break}return l=i.value,e.next=14,Object(F["r"])(c,l.thing.url);case 14:return d=e.sent,d=Object(F["A"])(d,z["a"].name,l.name),null!=n.state.solid.pod&&(d=Object(F["c"])(d,z["a"].actor,n.state.solid.pod.webId)),d=Object(F["b"])(d,z["a"].updated,r.toISOString()),d=Object(F["A"])(d,z["a"].content,l.content),void 0!=l.deleted&&(d=Object(F["A"])(d,z["a"].deleted,l.deleted)),e.next=22,V(l,c,d);case 22:c=e.sent;case 23:a=!1,e.next=8;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](6),o=!0,s=e.t0;case 32:if(e.prev=32,e.prev=33,!a||null==u.return){e.next=37;break}return e.next=37,u.return();case 37:if(e.prev=37,!o){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(32);case 42:return e.next=44,Object(F["x"])(t.url,c,{fetch:q["fetch"]});case 44:p=e.sent,console.log("savedDS",p);case 46:case"end":return e.stop()}}),e,null,[[6,28,32,42],[33,,37,41]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$addWikiEntry=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),r=new Date,e.next=4,Object(F["n"])(t.url,{fetch:q["fetch"]});case 4:return c=e.sent,a=Object(F["f"])({name:t.id}),a=Object(F["c"])(a,z["d"].type,z["a"].Note),a=Object(F["b"])(a,z["a"].name,t.name),null!=n.state.solid.pod&&(a=Object(F["c"])(a,z["a"].actor,n.state.solid.pod.webId)),a=Object(F["b"])(a,z["a"].published,r.toISOString()),c=Object(F["B"])(c,a),e.next=13,Object(F["x"])(t.url,c,{fetch:q["fetch"]});case 13:o=e.sent,console.log("savedDS",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$createWikiEntry=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,t.url=t.path+t.id+".ttl#"+t.id,c="Open this file with https://scenaristeur.github.io/game-sync?url="+t.url,a=Object(F["e"])(),o=Object(F["f"])({name:t.id}),o=Object(F["c"])(o,z["d"].type,z["a"].Note),o=Object(F["b"])(o,z["a"].name,t.label),o=Object(F["a"])(o,z["a"].startTime,t.date),null!=n.state.solid.pod&&(o=Object(F["c"])(o,z["a"].actor,n.state.solid.pod.webId)),o=Object(F["b"])(o,z["a"].published,r.toISOString()),o=Object(F["b"])(o,z["e"].comment,c),a=Object(F["B"])(a,o),e.next=14,Object(F["x"])(t.url,a,{fetch:q["fetch"]});case 14:s=e.sent,console.log("savedDS",s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$createEvent=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),r=new Date,c=encodeURI(t.name)||Date.now(),a=t.url,o=a+c+".ttl",s="Open this file with https://scenaristeur.github.io/game-sync?url="+o,u=Object(F["e"])(),i=Object(F["f"])({name:c}),i=Object(F["c"])(i,z["d"].type,z["a"].Event),i=Object(F["b"])(i,z["a"].name,t.name),i=Object(F["a"])(i,z["a"].startTime,t.event.customData.start),i=Object(F["a"])(i,z["a"].endTime,t.event.customData.end),i=Object(F["b"])(i,z["e"].comment,s),null!=n.state.solid.pod&&(i=Object(F["c"])(i,z["a"].actor,n.state.solid.pod.webId)),i=Object(F["b"])(i,z["a"].published,r.toISOString()),e.next=17,V(t.event.customData,u,i);case 17:return u=e.sent,e.next=20,Object(F["x"])(a+c+".ttl",u,{fetch:q["fetch"]});case 20:l=e.sent,console.log("savedDS",l);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$exploreEvents=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,o,s,u,i,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.value.url+"events/",e.next=3,Object(F["n"])(n,{fetch:q["fetch"]});case 3:return r=e.sent,console.log(r),e.next=7,Object(F["j"])(r,{fetch:q["fetch"]});case 7:c=e.sent,a=[],o=!1,s=!1,e.prev=11,i=Object(L["a"])(c);case 13:return e.next=15,i.next();case 15:if(!(o=!(l=e.sent).done)){e.next=25;break}return d=l.value,e.t0=a,e.next=20,this.$readEvent(d);case 20:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 22:o=!1,e.next=13;break;case 25:e.next=31;break;case 27:e.prev=27,e.t2=e["catch"](11),s=!0,u=e.t2;case 31:if(e.prev=31,e.prev=32,!o||null==i.return){e.next=36;break}return e.next=36,i.return();case 36:if(e.prev=36,!s){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return console.log("Events",a),p={source:t,url:n,events:a},console.log("container",p),e.abrupt("return",p);case 45:case"end":return e.stop()}}),e,this,[[11,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readWikiEntry=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,o,s,u,i,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.substr(0,t.lastIndexOf("/"))+"/",r={url:t,things:[],path:n},e.next=4,Object(F["n"])(t,{fetch:q["fetch"]});case 4:return c=e.sent,e.prev=5,e.next=8,Object(F["s"])(c);case 8:a=e.sent,o=!1,s=!1,e.prev=11,i=Object(L["a"])(a);case 13:return e.next=15,i.next();case 15:if(!(o=!(l=e.sent).done)){e.next=52;break}return d=l.value,p={},console.log(d.url,d),p.thing=d,p.url=d.url,p.id=d.url.split(".ttl#")[1],p.path=n,e.next=25,Object(F["p"])(d,z["a"].name);case 25:return p.name=e.sent,e.next=28,Object(F["t"])(d,z["d"].type);case 28:return p.type=e.sent,e.next=31,Object(F["k"])(d,z["a"].startTime);case 31:return p.time=e.sent,e.next=34,Object(F["t"])(d,z["a"].actor);case 34:return p.actor=e.sent,e.next=37,Object(F["p"])(d,z["a"].content);case 37:return p.content=e.sent,e.next=40,Object(F["p"])(d,z["a"].published);case 40:return p.published=e.sent,e.next=43,Object(F["p"])(d,z["a"].deleted);case 43:return p.deleted=e.sent,e.next=46,Object(F["u"])(d,z["a"].object);case 46:p.relations=e.sent,console.log("wiki Entry",p),r.things.push(p);case 49:o=!1,e.next=13;break;case 52:e.next=58;break;case 54:e.prev=54,e.t0=e["catch"](11),s=!0,u=e.t0;case 58:if(e.prev=58,e.prev=59,!o||null==i.return){e.next=63;break}return e.next=63,i.return();case 63:if(e.prev=63,!s){e.next=66;break}throw u;case 66:return e.finish(63);case 67:return e.finish(58);case 68:e.next=73;break;case 70:e.prev=70,e.t1=e["catch"](5),console.log(e.t1);case 73:return e.abrupt("return",r);case 74:case"end":return e.stop()}}),e,null,[[5,70],[11,54,58,68],[59,,63,67]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readEvent=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,o,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(F["n"])(t,{fetch:q["fetch"]});case 2:return n=e.sent,r=t.substring(t.lastIndexOf("/")+1).split(".ttl")[0],console.log(r),c="",a=[],o={},e.prev=8,e.next=11,Object(F["r"])(n,t+"#"+r);case 11:return c=e.sent,o.url=t,e.next=15,Object(F["p"])(c,z["a"].name);case 15:return o.name=e.sent,e.next=18,Object(F["k"])(c,z["a"].startTime);case 18:return o.start=e.sent,e.next=21,Object(F["k"])(c,z["a"].endTime);case 21:return o.end=e.sent,e.next=24,Object(F["s"])(n);case 24:s=e.sent,u=!1,i=!1,e.prev=27,d=Object(L["a"])(s);case 29:return e.next=31,d.next();case 31:if(!(u=!(p=e.sent).done)){e.next=41;break}return b=p.value,e.t0=a,e.next=36,this.$readThing(b);case 36:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 38:u=!1,e.next=29;break;case 41:e.next=47;break;case 43:e.prev=43,e.t2=e["catch"](27),i=!0,l=e.t2;case 47:if(e.prev=47,e.prev=48,!u||null==d.return){e.next=52;break}return e.next=52,d.return();case 52:if(e.prev=52,!i){e.next=55;break}throw l;case 55:return e.finish(52);case 56:return e.finish(47);case 57:e.next=62;break;case 59:e.prev=59,e.t3=e["catch"](8),console.log(e.t3);case 62:return e.abrupt("return",{url:t,event:o,thing:c,thingsAll:a});case 63:case"end":return e.stop()}}),e,this,[[8,59],[27,43,47,57],[48,,52,56]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readThing=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("read",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$createEvent2=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u,i,l,d,p,b,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,c=encodeURI(t.name)||Date.now(),a=t.url,o=t.parent,s=a+c+".ttl",u="Open this file with https://scenaristeur.github.io/game-sync?url="+s,console.log("creating",s),e.next=9,Object(F["e"])();case 9:return i=e.sent,e.next=12,Object(F["f"])({name:c});case 12:return l=e.sent,console.log("create",l),console.log(z["d"].type,z["a"].Event),l=Object(F["b"])(l,z["a"].name,c),l=Object(F["c"])(l,z["d"].type,z["a"].Event),l=Object(F["a"])(l,z["a"].startTime,t.event.customData.start),l=Object(F["a"])(l,z["a"].endTime,t.event.customData.end),l=Object(F["b"])(l,z["e"].comment,u),t.event.customData.contexts.length>0&&(l=Object(F["b"])(l,z["a"].context,JSON.stringify(t.event.customData.contexts))),l=Object(F["b"])(l,H.updates,JSON.stringify(t.event)),null!=n.state.solid.pod&&(l=Object(F["c"])(l,z["a"].actor,n.state.solid.pod.webId)),l=Object(F["b"])(l,z["a"].published,r.toISOString()),void 0!=o&&(l=Object(F["c"])(l,z["c"].sameAs,o),console.log("update de parent avec rdfs:seeAlso, https://www.w3.org/wiki/UsingSeeAlso",o),t.seeAlso=a+c+".ttl",this.$addSeeAlso(t)),e.next=27,Object(F["d"])(Object(F["f"])({name:"activity-test"})).addUrl(z["d"].type,z["a"].Activity).addStringNoLocale(z["a"].name,"Activity test").build();case 27:return d=e.sent,console.log("ME",d),d=Object(F["b"])(d,z["a"].name,"Activity test 22222"),l=Object(F["c"])(l,z["a"].object,d),p=Object(F["B"])(i,l),e.next=34,Object(F["x"])(a+c+".ttl",p,{fetch:q["fetch"]});case 34:return b=e.sent,console.log("meThingsavedThing",b),console.log("meThing",d),console.log(b),f={url:a+c+".ttl",subscribe:!0},console.log("read",f),this.$readResource(f),e.abrupt("return",b);case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$create=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Date,c=t.name||Date.now(),a=t.url,o=t.parent,s=a+c+".ttl",u="Open this file with https://scenaristeur.github.io/game-sync?url="+s,console.log("creating",s),e.next=9,Object(F["e"])();case 9:return i=e.sent,e.next=12,Object(F["f"])({name:c});case 12:return l=e.sent,console.log("create",l),l=Object(F["b"])(l,z["a"].name,c),l=Object(F["b"])(l,z["e"].comment,u),l=Object(F["c"])(l,z["a"].actor,n.state.solid.pod.webId),l=Object(F["b"])(l,z["a"].published,r.toISOString()),void 0!=o&&(l=Object(F["c"])(l,z["c"].sameAs,o),console.log("update de parent avec rdfs:seeAlso, https://www.w3.org/wiki/UsingSeeAlso",o),t.seeAlso=a+c+".ttl",this.$addSeeAlso(t)),d=Object(F["B"])(i,l),e.next=22,Object(F["x"])(a+c+".ttl",d,{fetch:q["fetch"]});case 22:return p=e.sent,b={url:a+c+".ttl",subscribe:!0},console.log("read",b),this.$readResource(b),this.$store.commit("gamesync/setNetworkUrl",{url:a+c+".ttl"}),e.abrupt("return",p);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$addSeeAlso=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.parent.split("#")[0],e.next=3,Object(F["n"])(n,{fetch:q["fetch"]});case 3:return r=e.sent,console.log(r),e.next=7,Object(F["r"])(r,t.parent);case 7:return c=e.sent,c=Object(F["C"])(c,z["e"].seeAlso,t.seeAlso),a=Object(F["B"])(r,c),e.next=12,Object(F["x"])(n,a,{fetch:q["fetch"]});case 12:return o=e.sent,console.log("NODE UPDATED ",o),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$explore=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$subscribe(t),t.url.endsWith("/")?this.$readContainer(t):this.$readResource(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$read=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("$read",t),t.url.endsWith("/")?this.$readContainer(t):this.$readResource(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$subscribe=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("$subscribe",t),n=t.url,c=this,a="wss://"+n.split("/")[2],o=r[a],null==o&&(o=new WebSocket(a,["solid-0.1"]),console.log("new socket",o),r[a]=o),o.onopen=function(){this.send("sub "+n)},o.onmessage=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data||"pub"!==t.data.slice(0,3)){e.next=15;break}if(console.log(t.data),n=t.data.slice(4),console.log(n),!n.endsWith("/")){e.next=12;break}return console.log("readcont",n),e.next=8,c.$readContainer({url:n,subscribe:!0});case 8:r=e.sent,r.resources.forEach((function(e){a.send("sub "+e)})),e.next=15;break;case 12:return console.log("must $readResource",n),e.next=15,c.$readResource({url:n,subscribe:!0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readContainer=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.url,e.prev=1,e.next=4,Object(F["n"])(r,{fetch:q["fetch"]});case 4:return c=e.sent,console.log(c),e.next=8,Object(F["j"])(c,{fetch:q["fetch"]});case 8:return a=e.sent,console.log("Resources",a),o={url:r,resources:a},n.commit("gamesync/setGameContainer",o),e.abrupt("return",o);case 15:e.prev=15,e.t0=e["catch"](1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$readResource=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u,i,l,d,p,b,f,h,g,v,m,O,x,j,k,w,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("$readResource",t),r=t.url,e.next=4,Object(F["n"])(r,{fetch:q["fetch"]});case 4:return c=e.sent,a=r.substring(r.lastIndexOf("/")+1).split(".ttl")[0],console.log(a),e.next=9,Object(F["r"])(c,r+"#"+a);case 9:return o=e.sent,e.next=12,Object(F["q"])(o,z["a"].content);case 12:return s=e.sent,e.next=15,Object(F["s"])(c);case 15:u=e.sent,i={nodes:[],edges:[]},l=!1,d=!1,e.prev=19,b=Object(L["a"])(u);case 21:return e.next=23,b.next();case 23:if(!(l=!(f=e.sent).done)){e.next=84;break}return h=f.value,e.next=27,Object(F["p"])(h,H.id);case 27:return g=e.sent,e.next=30,Object(F["t"])(h,z["d"].type);case 30:return v=e.sent,e.next=33,Object(F["p"])(h,H.label);case 33:return m=e.sent,O={id:g,url:h.url,type:v,label:m},e.next=37,Object(F["p"])(h,H.properties);case 37:return x=e.sent,e.next=40,Object(F["u"])(h,z["c"].sameAs);case 40:return O.sameAs=e.sent,e.next=43,Object(F["u"])(h,z["e"].seeAlso);case 43:O.seeAlso=e.sent;try{O.properties=JSON.parse("".concat(x))}catch(R){console.info(R,"".concat(x))}if(null==v||v!=H.Node){e.next=67;break}return O.color={},O.type=v.replace(H.base,""),e.next=50,Object(F["p"])(h,H.shape);case 50:return O.shape=e.sent,e.next=53,Object(F["l"])(h,H.cid);case 53:return O.cid=e.sent,e.next=56,Object(F["p"])(h,H.backgroundColor);case 56:return O.color.background=e.sent,e.next=59,Object(F["p"])(h,H.borderColor);case 59:return O.color.border=e.sent,e.next=62,Object(F["p"])(h,H.updates);case 62:j=e.sent,O.updates=JSON.parse("".concat(j)),i.nodes.push(O),e.next=81;break;case 67:if(null==v||v!=H.Edge){e.next=80;break}return O.type=v.replace(H.base,""),e.next=71,Object(F["t"])(h,H.from);case 71:return k=e.sent,e.next=74,Object(F["t"])(h,H.to);case 74:w=e.sent,k.startsWith(r)?O.from=k.replace(r,""):O.from=k,w.startsWith(r)?O.to=w.replace(r,""):O.to=w,i.edges.push(O),e.next=81;break;case 80:console.log("type unknown",v);case 81:l=!1,e.next=21;break;case 84:e.next=90;break;case 86:e.prev=86,e.t0=e["catch"](19),d=!0,p=e.t0;case 90:if(e.prev=90,e.prev=91,!l||null==b.return){e.next=95;break}return e.next=95,b.return();case 95:if(e.prev=95,!d){e.next=98;break}throw p;case 98:return e.finish(95);case 99:return e.finish(90);case 100:y={url:r,updates:s,network:i},console.log("Game",y),n.commit("gamesync/setGame",y);case 103:case"end":return e.stop()}}),e,null,[[19,86,90,100],[91,,95,99]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$checkSessions=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("params",t),console.log("window.location.href",window.location.href),r=q["getDefaultSession"](),console.log("session",r),q["onSessionRestore"]((function(e){console.log("restore",e);var t=e.split("?")[1];console.log("query",t),n.commit("solid/setSession",r),c.$getPodInfosFromSession(r)})),e.prev=5,e.next=8,q["handleIncomingRedirect"]({restorePreviousSession:t.restore,url:window.location.href}).then((function(e){console.log(e)}));case 8:n.commit("solid/setSession",r),this.$getPodInfosFromSession(r),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),alert("$checkSessions "+e.t0);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$addNode=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.node,e.next=3,Object(F["n"])(t.url,{fetch:q["fetch"]});case 3:return c=e.sent,e.next=6,Object(F["f"])({name:r.id});case 6:return a=e.sent,a=Object(F["C"])(a,z["d"].type,H.Node),void 0!=r.label&&(a=Object(F["A"])(a,z["a"].name,r.label)),a=Object(F["A"])(a,H.id,r.id),void 0!=r.label&&(a=Object(F["A"])(a,H.label,r.label)),void 0!=r.shape&&(a=Object(F["A"])(a,H.shape,r.shape)),void 0!=r.x&&(a=Object(F["y"])(a,H.x,r.x)),void 0!=r.y&&(a=Object(F["y"])(a,H.y,r.y)),void 0!=r.z&&(a=Object(F["y"])(a,H.z,r.z)),void 0!=r.color&&void 0!=r.color.background&&(a=Object(F["A"])(a,H.backgroundColor,r.color.background)),void 0!=r.color&&void 0!=r.color.border&&(a=Object(F["A"])(a,H.borderColor,r.color.border)),void 0!=r.cid&&(a=Object(F["z"])(a,H.cid,r.cid)),void 0!=r.properties&&(a=Object(F["A"])(a,H.properties,JSON.stringify(r.properties))),a=Object(F["b"])(a,H.updates,JSON.stringify(n)),o=Object(F["B"])(c,a),e.next=23,Object(F["x"])(t.url,o,{fetch:q["fetch"]});case 23:return s=e.sent,console.log("NODE ADDED ",s),e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$updateNode=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo update node",t,n),r=n.node,e.next=4,Object(F["n"])(t.url,{fetch:q["fetch"]});case 4:return c=e.sent,console.log(c),e.next=8,Object(F["r"])(c,t.url+r.id);case 8:return a=e.sent,a=Object(F["C"])(a,z["d"].type,H.Node),void 0!=r.label&&(a=Object(F["A"])(a,z["a"].name,r.label)),a=Object(F["A"])(a,H.id,r.id),void 0!=r.label&&(a=Object(F["A"])(a,H.label,r.label)),void 0!=r.shape&&(a=Object(F["A"])(a,H.shape,r.shape)),void 0!=r.x&&(a=Object(F["y"])(a,H.x,r.x)),void 0!=r.y&&(a=Object(F["y"])(a,H.y,r.y)),void 0!=r.z&&(a=Object(F["y"])(a,H.z,r.z)),void 0!=r.color&&void 0!=r.color.background&&(a=Object(F["A"])(a,H.backgroundColor,r.color.background)),void 0!=r.color&&void 0!=r.color.border&&(a=Object(F["A"])(a,H.borderColor,r.color.border)),void 0!=r.cid&&(a=Object(F["z"])(a,H.cid,r.cid)),void 0!=r.properties&&(a=Object(F["A"])(a,H.properties,JSON.stringify(r.properties))),a=Object(F["b"])(a,H.updates,JSON.stringify(n)),o=Object(F["B"])(c,a),e.next=25,Object(F["x"])(t.url,o,{fetch:q["fetch"]});case 25:return s=e.sent,console.log("NODE UPDATED ",s),e.abrupt("return",s);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$addEdge=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("adding Edge",t,n),r=n.edge,e.next=4,Object(F["n"])(t.url,{fetch:q["fetch"]});case 4:return c=e.sent,e.next=7,Object(F["r"])(c,t.url+r.from);case 7:return a=e.sent,e.next=10,Object(F["r"])(c,t.url+r.to);case 10:if(o=e.sent,null!=a){e.next=16;break}return e.next=14,Object(F["f"])(c,t.url+r.from);case 14:e.next=17;break;case 16:case 17:if(null!=o){e.next=22;break}return e.next=20,Object(F["f"])(c,t.url+r.to);case 20:e.next=23;break;case 22:case 23:return e.next=25,Object(F["f"])({name:r.id});case 25:return s=e.sent,s=Object(F["C"])(s,z["d"].type,H.Edge),void 0!=r.label&&(s=Object(F["A"])(s,z["a"].name,r.label)),s=Object(F["A"])(s,H.id,r.id),void 0!=r.label&&(s=Object(F["A"])(s,H.label,r.label)),void 0!=r.from&&(s=Object(F["C"])(s,H.from,a)),void 0!=r.to&&(s=Object(F["C"])(s,H.to,o)),void 0!=r.properties&&(s=Object(F["A"])(s,H.properties,JSON.stringify(r.properties))),s=Object(F["b"])(s,H.updates,JSON.stringify(n)),u=Object(F["B"])(c,s),e.next=37,Object(F["x"])(t.url,u,{fetch:q["fetch"]});case 37:return i=e.sent,console.log("Edge ADDED ",i),e.abrupt("return",i);case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$updateEdge=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo add Edge",t,n),r=n.edge,e.next=4,Object(F["n"])(t.url,{fetch:q["fetch"]});case 4:return c=e.sent,e.next=7,Object(F["r"])(c,t.url+r.from);case 7:return a=e.sent,e.next=10,Object(F["r"])(c,t.url+r.to);case 10:return o=e.sent,e.next=13,Object(F["r"])(c,t.url+"#"+r.id);case 13:return s=e.sent,s=Object(F["C"])(s,z["d"].type,H.Edge),void 0!=r.label&&(s=Object(F["A"])(s,z["a"].name,r.label)),s=Object(F["A"])(s,H.id,r.id),void 0!=r.label&&(s=Object(F["A"])(s,H.label,r.label)),void 0!=r.from&&(s=Object(F["C"])(s,H.from,a)),void 0!=r.to&&(s=Object(F["C"])(s,H.to,o)),void 0!=r.properties&&(s=Object(F["A"])(s,H.properties,JSON.stringify(r.properties))),s=Object(F["b"])(s,H.updates,JSON.stringify(n)),u=Object(F["B"])(c,s),e.next=25,Object(F["x"])(t.url,u,{fetch:q["fetch"]});case 25:return i=e.sent,console.log("Edge Updated ",i),e.abrupt("return",i);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$removeObjects=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s,u,i,l,d,p,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("todo remove",t,n),r=n.objects.nodes.concat(n.objects.edges),console.log(r),e.next=5,Object(F["n"])(t.url,{fetch:q["fetch"]});case 5:c=e.sent,a=!1,o=!1,e.prev=8,u=Object(L["a"])(r);case 10:return e.next=12,u.next();case 12:if(!(a=!(i=e.sent).done)){e.next=27;break}return l=i.value,d=t.url+"#"+l,l.startsWith("http")&&(d=l),l.startsWith("#")&&(d=t.url+l),e.next=19,Object(F["r"])(c,d);case 19:return p=e.sent,console.log("removing",p),e.next=23,Object(F["w"])(c,d);case 23:c=e.sent;case 24:a=!1,e.next=10;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](8),o=!0,s=e.t0;case 33:if(e.prev=33,e.prev=34,!a||null==u.return){e.next=38;break}return e.next=38,u.return();case 38:if(e.prev=38,!o){e.next=41;break}throw s;case 41:return e.finish(38);case 42:return e.finish(33);case 43:return e.next=45,Object(F["x"])(t.url,c,{fetch:q["fetch"]});case 45:return b=e.sent,console.log("saved dataset ",b),e.abrupt("return",b);case 48:case"end":return e.stop()}}),e,null,[[8,29,33,43],[34,,38,42]])})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$getPermissions=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r,c,a,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.state.solid.pod.webId,console.log("url",t,r),c={url:t},e.next=5,Object(F["o"])(t,{fetch:q["fetch"]});case 5:return a=e.sent,o=Object(F["m"])(a),console.log("publicAccess",o),c.publicAccess=o,e.next=11,Object(F["o"])(t,{fetch:q["fetch"]});case 11:return s=e.sent,console.log("ds",s),u=Object(F["i"])(s,r,{fetch:q["fetch"]}),console.log("agentAccess",r,u),c.agent=r,c.agentAccess=u,e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getResourceInfos=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},e.next=3,Object(F["n"])(t,{fetch:q["fetch"]});case 3:return r=e.sent,c=t.substring(t.lastIndexOf("/")+1).split(".ttl")[0],console.log(c),e.next=8,Object(F["r"])(r,t+"#"+c);case 8:return a=e.sent,console.log(a),n.name=Object(F["p"])(a,z["a"].name,name),console.log("infos",n),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$updateGame=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t,r),r.actor=null!=n.state.solid.pod?n.state.solid.pod.webId:"unknown",e.t0=r.action,e.next="addNode"===e.t0?5:"updateNode"===e.t0?8:"addEdge"===e.t0?11:"updateEdge"===e.t0?14:"removeObjects"===e.t0?17:20;break;case 5:return e.next=7,this.$addNode(t,r);case 7:return e.abrupt("break",21);case 8:return e.next=10,this.$updateNode(t,r);case 10:return e.abrupt("break",21);case 11:return e.next=13,this.$addEdge(t,r);case 13:return e.abrupt("break",21);case 14:return e.next=16,this.$updateEdge(t,r);case 16:return e.abrupt("break",21);case 17:return e.next=19,this.$removeObjects(t,r);case 19:return e.abrupt("break",21);case 20:console.log("action inconnue",t,r);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$changeGame=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(F["n"])(t.url,{fetch:q["fetch"]});case 2:return r=e.sent,console.log(r),c=(new Date).toISOString(),a=t.url.substring(t.url.lastIndexOf("/")+1).split(".ttl")[0],console.log(a),e.next=9,Object(F["r"])(r,t.url+"#"+a);case 9:return o=e.sent,console.log(o),n.date=c,o=Object(F["b"])(o,z["a"].content,JSON.stringify(n)),s=Object(F["B"])(r,o),e.next=16,Object(F["x"])(t.url,s,{fetch:q["fetch"]});case 16:return u=e.sent,console.log("File saved",u),e.next=20,this.$updateGame(t,n);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$remove=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(F["n"])(t.url,{fetch:q["fetch"]});case 2:return r=e.sent,console.log(r),c=t.url.substring(t.url.lastIndexOf("/")+1).split(".ttl")[0],console.log(c),e.next=8,Object(F["r"])(r,t.url+"#"+c);case 8:return a=e.sent,console.log(a),a=Object(F["v"])(a,z["a"].content,n),o=Object(F["B"])(r,a),e.next=14,Object(F["x"])(t.url,o,{fetch:q["fetch"]});case 14:s=e.sent,console.log("File saved",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prototype.$login=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q["login"]({oidcIssuer:t,redirectUrl:window.location.href,clientName:"GameSync"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert("$login "+e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$logout=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=q["getDefaultSession"](),console.log(t),e.next=5,r.logout();case 5:n.commit("solid/setSession",null),n.commit("solid/setPod",null),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),alert("$logout "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getPodInfosFromSession=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r={},r.logged=t.info.isLoggedIn,!r.logged){e.next=12;break}return r.webId=t.info.webId,e.next=7,this.$getPodInfos(r);case 7:r=e.sent,n.commit("solid/setPod",r),r.storage,e.next=13;break;case 12:n.commit("solid/setPod",null);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),alert("$getPodInfosFromSession "+e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getPodInfos=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(F["n"])(t.webId,{fetch:q["fetch"]});case 3:return n=e.sent,console.log("DATASET",n),e.next=7,Object(F["r"])(n,t.webId);case 7:return r=e.sent,e.next=10,Object(F["p"])(r,z["b"].name);case 10:return t.name=e.sent,e.next=13,Object(F["u"])(r,z["b"].knows).map((function(e){return{webId:e}}));case 13:return t.friends=e.sent,e.next=16,Object(F["t"])(r,M["a"].storage);case 16:return t.storage=e.sent,e.next=19,Object(F["t"])(r,z["f"].hasPhoto);case 19:t.photo=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),console.log("erreur",e.t0,t);case 25:return e.next=27,t;case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$deleteOnPod=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.endsWith("/")){e.next=6;break}return e.next=4,Object(F["g"])(t,{fetch:q["fetch"]});case 4:e.next=8;break;case 6:return e.next=8,Object(F["h"])(t,{fetch:q["fetch"]});case 8:console.log(" deleted !",t),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.$getRelation=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,a,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.split("#"),r=Object(G["a"])(n,2),c=r[0],a=r[1],o={url:t,file:c,id:a},console.log(o),e.next=5,Object(F["n"])(c,{fetch:q["fetch"]});case 5:return s=e.sent,e.prev=6,e.next=9,Object(F["r"])(s,c+"#"+a);case 9:return u=e.sent,o.name=Object(F["p"])(u,z["a"].name),e.next=13,Object(F["u"])(u,z["d"].type);case 13:return o.types=e.sent,e.next=16,Object(F["u"])(u,z["a"].Link);case 16:return o.links=e.sent,e.next=19,Object(F["u"])(u,z["a"].subject);case 19:return o.subjects=e.sent,e.next=22,Object(F["u"])(u,z["a"].object);case 22:return o.objects=e.sent,e.next=25,Object(F["u"])(u,z["a"].context);case 25:o.contexts=e.sent,console.log(u),e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](6),console.log(e.t0);case 32:return e.abrupt("return",o);case 33:case"end":return e.stop()}}),e,null,[[6,29]])})));return function(t){return e.apply(this,arguments)}}(),e.prototype.logAccessInfo=function(e,t,n){null===t?console.log("Could not load access details for this Resource."):(console.log("".concat(e,"'s Access:: "),JSON.stringify(t)),console.log("...",e,t.read?"CAN":"CANNOT","read the Resource",n),console.log("...",e,t.append?"CAN":"CANNOT","add data to the Resource",n),console.log("...",e,t.write?"CAN":"CANNOT","change data in the Resource",n),console.log("...",e,t.controlRead?"CAN":"CANNOT","see access to the Resource",n),console.log("...",e,t.controlWrite?"CAN":"CANNOT","change access to the Resource",n))}}};function V(e,t,n){return K.apply(this,arguments)}function K(){return K=Object(W["a"])(regeneratorRuntime.mark((function e(t,n,r){var c,a,o,s,u,i,l,d,p,b,f,h,g,v,m,O,x,j,k,w,y,R,A,$,S,E,C,N,I,D;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=[],a=[],o=[],void 0==t.actors){e.next=37;break}s=!1,u=!1,e.prev=6,l=Object(L["a"])(t.actors);case 8:return e.next=10,l.next();case 10:if(!(s=!(d=e.sent).done)){e.next=21;break}p=d.value,b=Object(F["f"])({name:"thingActor"+Date.now()}),b=Object(F["b"])(b,z["a"].name,p.text),void 0!=p.url&&(b=Object(F["c"])(b,z["a"].Link,p.url)),p.text.startsWith("http")&&(b=Object(F["c"])(b,z["a"].Link,p.text)),n=Object(F["B"])(n,b),c.push(b);case 18:s=!1,e.next=8;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](6),u=!0,i=e.t0;case 27:if(e.prev=27,e.prev=28,!s||null==l.return){e.next=32;break}return e.next=32,l.return();case 32:if(e.prev=32,!u){e.next=35;break}throw i;case 35:return e.finish(32);case 36:return e.finish(27);case 37:if(void 0==t.objects){e.next=71;break}f=!1,h=!1,e.prev=40,v=Object(L["a"])(t.objects);case 42:return e.next=44,v.next();case 44:if(!(f=!(m=e.sent).done)){e.next=55;break}O=m.value,x=Object(F["f"])({name:"thingObject"+Date.now()}),x=Object(F["b"])(x,z["a"].name,O.text),void 0!=O.url&&(x=Object(F["c"])(x,z["a"].Link,O.url)),O.text.startsWith("http")&&(x=Object(F["c"])(x,z["a"].Link,O.text)),n=Object(F["B"])(n,x),a.push(x);case 52:f=!1,e.next=42;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e["catch"](40),h=!0,g=e.t1;case 61:if(e.prev=61,e.prev=62,!f||null==v.return){e.next=66;break}return e.next=66,v.return();case 66:if(e.prev=66,!h){e.next=69;break}throw g;case 69:return e.finish(66);case 70:return e.finish(61);case 71:if(void 0==t.contexts){e.next=105;break}j=!1,k=!1,e.prev=74,y=Object(L["a"])(t.contexts);case 76:return e.next=78,y.next();case 78:if(!(j=!(R=e.sent).done)){e.next=89;break}A=R.value,$=Object(F["f"])({name:"thingContext"+Date.now()}),$=Object(F["b"])($,z["a"].name,A.text),void 0!=A.url&&($=Object(F["c"])($,z["a"].Link,A.url)),A.text.startsWith("http")&&($=Object(F["c"])($,z["a"].Link,A.text)),n=Object(F["B"])(n,$),o.push($);case 86:j=!1,e.next=76;break;case 89:e.next=95;break;case 91:e.prev=91,e.t2=e["catch"](74),k=!0,w=e.t2;case 95:if(e.prev=95,e.prev=96,!j||null==y.return){e.next=100;break}return e.next=100,y.return();case 100:if(e.prev=100,!k){e.next=103;break}throw w;case 103:return e.finish(100);case 104:return e.finish(95);case 105:if(void 0==t.actions){e.next=134;break}S=!1,E=!1,e.prev=108,N=function(){var e=D.value,t=Object(F["f"])({name:"thingAction"+Date.now()});t=Object(F["c"])(t,z["d"].type,z["a"].Relationship),t=Object(F["c"])(t,z["d"].type,z["a"].Activity),void 0!=e.url&&(t=Object(F["c"])(t,z["d"].type,e.url)),void 0!=e.url&&(t=Object(F["c"])(t,z["a"].Link,e.url)),t=Object(F["b"])(t,z["a"].name,e.text),c.forEach((function(e){t=Object(F["c"])(t,z["a"].subject,e)})),a.forEach((function(e){t=Object(F["c"])(t,z["a"].object,e)})),o.forEach((function(e){t=Object(F["c"])(t,z["a"].context,e)})),r=Object(F["c"])(r,z["a"].object,t),n=Object(F["B"])(n,t)},I=Object(L["a"])(t.actions);case 111:return e.next=113,I.next();case 113:if(!(S=!(D=e.sent).done)){e.next=118;break}N();case 115:S=!1,e.next=111;break;case 118:e.next=124;break;case 120:e.prev=120,e.t3=e["catch"](108),E=!0,C=e.t3;case 124:if(e.prev=124,e.prev=125,!S||null==I.return){e.next=129;break}return e.next=129,I.return();case 129:if(e.prev=129,!E){e.next=132;break}throw C;case 132:return e.finish(129);case 133:return e.finish(124);case 134:return n=Object(F["B"])(n,r),e.abrupt("return",n);case 136:case"end":return e.stop()}}),e,null,[[6,23,27,37],[28,,32,36],[40,57,61,71],[62,,66,70],[74,91,95,105],[96,,100,104],[108,120,124,134],[125,,129,133]])}))),K.apply(this,arguments)}"undefined"!==typeof window&&window.Vue&&window.Vue.use(Q);var X=Q,Y=n("b329"),Z=n("bd8c"),ee=n.n(Z),te=n("5f5b"),ne=n("b1e0"),re=(n("f9e3"),n("2dd8"),n("5887")),ce=n.n(re);r["default"].use(X,{store:J}),r["default"].component("network",Y["Network"]),r["default"].use(ee.a),r["default"].use(te["a"]),r["default"].use(ne["a"]),r["default"].config.productionTip=!1,r["default"].use(ce.a,{}),new r["default"]({router:h,store:J,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.7f528f80.js.map